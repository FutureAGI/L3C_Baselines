#! /bin/bash
#
if [[ $# -lt 2 ]]; then
	echo "Usage: $0 output_directory task_source_file"
exit 1
fi
echo "Output to $1"
python3 gen_maze_record.py \
  --output_path $1 \
  --task_source NEW \
  --task_file $2 \
  --max_steps 16000 \
  --reference_policy_config 1.0 \
  --behavior_policy_config \
  		0.02,0.10 \
		0.02,0.20 \
		0.02,0.30 \
		0.02,0.40 \
		0.02,0.50 \
		0.02,0.60 \
		0.02,0.70 \
  		0.05,0.10 \
		0.05,0.20 \
		0.05,0.30 \
		0.05,0.40 \
		0.05,0.50 \
		0.05,0.60 \
		0.05,0.70 \
		0.05,0.80 \
		0.05,0.90 \
		0.05,0.95 \
  		0.10,0.30 \
  		0.10,0.40 \
		0.10,0.50 \
		0.10,0.60 \
		0.10,0.70 \
		0.10,0.80 \
		0.10,0.90 \
		0.10,0.95 \
  		0.15,0.40 \
  		0.15,0.50 \
		0.15,0.60 \
		0.15,0.70 \
		0.15,0.80 \
		0.15,0.90 \
		0.15,0.95 \
		0.20,0.40 \
		0.20,0.50 \
		0.20,0.60 \
		0.20,0.70 \
		0.20,0.80 \
		0.20,0.90 \
		0.20,0.95 \
		0.25,0.40 \
		0.25,0.50 \
		0.25,0.60 \
		0.25,0.70 \
		0.25,0.80 \
		0.25,0.90 \
		0.25,0.95 \
  --start_index 0 \
  --n_range 15,16 \
  --epochs 64 \
  --workers 32
